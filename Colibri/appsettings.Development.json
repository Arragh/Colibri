{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "Colibri": {
    "Authorization": {
      "Policies": [
        {
          "PolicyId": "Trololo",
          "TokenKey": "secret-key"
        }
      ]
    },
    "Routing": {
      "Clusters": [
        {
          "Enabled": true,
          "ClusterId": "Cluster1",
          "Protocol": "http",
          "Prefix": "/cluster1",
          "UsePrefix": true,
          "Hosts": [ "http://192.168.1.102:6000", "http://192.168.1.102:6002" ],
          "Authorize": {
            "Enabled": true,
            "PolicyId": "Trololo",
            "Roles": [ "admin" ]
          },
          "RateLimit": {
            "Enabled": true,
            "RequestsPerMinute": 1000
          },
          "Retry": {
            "Enabled": true,
            "Attempts": 3,
            "Backoff": "Exponential",
            "RetryOn": [ 504, 500 ]
          },
          "CircuitBreaker": {
            "Enabled": true,
            "Failures": 5,
            "Timeout": 30
          },
          "LoadBalancing": {
            "Enabled": true,
            "Type": "RR"
          },
          "Timeouts": {
            "Request": 30,
            "Connect": 5
          }
        },
        {
          "Enabled": true,
          "ClusterId": "Cluster2",
          "Protocol": "http",
          "Prefix": "/cluster2",
          "UsePrefix": true,
          "Hosts": [ "http://192.168.1.102:6002", "http://192.168.1.102:6000" ],
          "Authorize": {
            "Enabled": false,
            "PolicyId": "Trololo",
            "Roles": [ "admin" ]
          },
          "RateLimit": {
            "Enabled": true,
            "RequestsPerMinute": 1000
          },
          "Retry": {
            "Enabled": true,
            "Attempts": 3,
            "Backoff": "Exponential",
            "RetryOn": [ 504, 500 ]
          },
          "CircuitBreaker": {
            "Enabled": true,
            "Failures": 5,
            "Timeout": 30
          },
          "LoadBalancing": {
            "Enabled": true,
            "Type": "RR"
          },
          "Timeouts": {
            "Request": 30,
            "Connect": 5
          }
        },
        {
          "Enabled": true,
          "ClusterId": "Cluster3",
          "Protocol": "ws",
          "Prefix": "/cluster3",
          "UsePrefix": true,
          "Hosts": [ "ws://192.168.1.102:6000" ],
          "Authorize": {
            "Enabled": false,
            "PolicyId": "Trololo",
            "Roles": [ "admin" ]
          },
          "RateLimit": {
            "Enabled": true,
            "RequestsPerMinute": 1000
          },
          "Retry": {
            "Enabled": true,
            "Attempts": 3,
            "Backoff": "Exponential",
            "RetryOn": [ 504, 500 ]
          },
          "CircuitBreaker": {
            "Enabled": true,
            "Failures": 5,
            "Timeout": 30
          },
          "LoadBalancing": {
            "Enabled": true,
            "Type": "RR"
          },
          "Timeouts": {
            "Request": 30,
            "Connect": 5
          }
        }
      ],
      "Routes": [
        {
          "ClusterId": "Cluster3",
          "Methods": [ "GET" ],
          "UpstreamPattern": "/test3/ws",
          "DownstreamPattern": "/ws"
        },
        {
          "ClusterId": "Cluster2",
          "Methods": [ "DELETE" ],
          "UpstreamPattern": "/test1/get",
          "DownstreamPattern": "/get"
        },
        {
          "ClusterId": "Cluster1",
          "Methods": [ "GET", "POST" ],
          "UpstreamPattern": "/test1/get",
          "DownstreamPattern": "/get"
        },
        {
          "ClusterId": "Cluster2",
          "Methods": [ "DELETE" ],
          "UpstreamPattern": "/test1/get/{name}/info/{age}",
          "DownstreamPattern": "/get/{name}/info/{age}"
        },
        {
          "ClusterId": "Cluster1",
          "Methods": [ "GET" ],
          "UpstreamPattern": "/users/{id}/info/{trololo}/omg/{azaza}",
          "DownstreamPattern": "/info/{trololo}/users/omg/{id}/{azaza}"
        },
        {
          "ClusterId": "Cluster1",
          "Methods": [ "GET" ],
          "UpstreamPattern": "/users/me/info",
          "DownstreamPattern": "/users/me/info"
        },
        {
          "ClusterId": "Cluster2",
          "Methods": [ "POST" ],
          "UpstreamPattern": "/users/{id}/info",
          "DownstreamPattern": "/users/{id}/info"
        },
        {
          "ClusterId": "Cluster2",
          "Methods": [ "POST" ],
          "UpstreamPattern": "/test2/post",
          "DownstreamPattern": "/post"
        }
      ]
    }
  }
}